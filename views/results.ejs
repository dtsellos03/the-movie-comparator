<% include partials/header %>


<script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    <script type="text/javascript">
      google.charts.load("current", {packages:["corechart"]});
      google.charts.setOnLoadCallback(drawChart);
            google.charts.setOnLoadCallback(drawChart2);
      function drawChart() {
        var data = google.visualization.arrayToDataTable([
          ['Language', 'Speakers (in millions)'],
          ['R',  <%=ReturnObj.Ratings["R"]%>],
          ['PG-13',  <%=ReturnObj.Ratings["PG-13"]%>],
          ['PG', <%=ReturnObj.Ratings["PG"]%>],
          ['G', <%=ReturnObj.Ratings["G"]%>]
        ]);

      var options = {
        legend: 'none',
        pieSliceText: 'label',
        title: 'Ratings',
        pieStartAngle: 100,
        backgroundColor: {fill:'transparent'}
      };

        var chart = new google.visualization.PieChart(document.getElementById('piechart'));
        chart.draw(data, options);
      }
      
     var array2 = <%-Scores%>
     
     function drawChart2() {
        var data = google.visualization.arrayToDataTable(array2);

        var options = {
          title: 'Lengths of dinosaurs, in meters',
          legend: { position: 'none' },
        };

        var chart = new google.visualization.Histogram(document.getElementById('chart_div'));
        chart.draw(data, options);
      }
     
     
     
     
     
     
      
    </script>

<div class="container">
<div class="row">
  <div class="col-lg-4 well">
      <h1>Ratings</h1>
   <div id="piechart" style="width: 50%;"></div>KKK
  </div>  
  
  <div class="col-lg-4 well">
      <h1>Genres</h1>
      <h5>You've seen..</h5>
      <h3>675 hrs of film</h3>
      
<% ReturnObj.Genre.TopRunTime.forEach(function(element){ %>


<div class="progress" style="margin: 3px;">
    <div class="progress-bar progress-bar-success" role="progressbar" style="width: <%=element["Runtime Percent"] %>%;">
        <%= element.Genres %>
    </div>
    <div class="progress-bar" role="progressbar" style="text-align: left; padding-left: 10px; width: <% 100-element["Runtime Percent"]%>%; margin: 0; color: black; background-color:rgba(0,0,0,0);">
         <%= element["Runtime Percent"]%> %
    </div>

</div>

<% }); %>



</div>
<div class="col-lg-4 well">
    <h1>Polarizing</h1>

<div id="chart_div" style="width: 300px; height: 300px;"></div>


</div>
</div>
<div class="row">
    <div class="col-lg-12 well">

        <div class="row">
            <div class="col">
                <h1>Histogram</h1>
                
                
                
                
                
<h4>You loved, critics hated</h4>
<table class="table" style="width: 40%;">
    <thead>

        <tr>
            <th>Movie</th>
            <th>You Rated</th>
            <th>Metacritic</th>
        </tr>
        <tbody>

    </thead>

    <% ReturnObj.Polarizing["ULOVE-CRITHATE"].forEach(function(element){ %>

        <tr>
            <td>
                <%=element.Title %>
            </td>
            <td>
                <%=element["You rated"] %>
            </td>
            <td>
                <%=element.CritDiff %>
            </td>
        </tr>

        <% }); %>

            </tbody>
</table>

              
                
<h4>You hated, critics loved</h4>
<table class="table" style="width: 40%;">
    <thead>

        <tr>
            <th>Movie</th>
            <th>You Rated</th>
            <th>Metacritic</th>
        </tr>
        <tbody>

    </thead>

    <% ReturnObj.Polarizing["UHATE-CRITLOVE"].forEach(function(element){ %>

        <tr>
            <td>
                <%=element.Title %>
            </td>
            <td>
                <%=element["You rated"] %>
            </td>
            <td>
                <%=element.CritDiff %>
            </td>
        </tr>

        <% }); %>

            </tbody>
</table>

              
                
<h4>You loved,IMDb hated</h4>
<table class="table" style="width: 40%;">
    <thead>

        <tr>
            <th>Movie</th>
            <th>You Rated</th>
            <th>Metacritic</th>
        </tr>
        <tbody>

    </thead>

    <% ReturnObj.Polarizing["ULOVE-IMDBHATE"].forEach(function(element){ %>

        <tr>
            <td>
                <%=element.Title %>
            </td>
            <td>
                <%=element["You rated"] %>
            </td>
            <td>
                <%=element.IMDbDiff %>
            </td>
        </tr>

        <% }); %>

            </tbody>
</table>

              
                
<h4>You hated, IMDb loved</h4>
<table class="table" style="width: 40%;">
    <thead>

        <tr>
            <th>Movie</th>
            <th>You Rated</th>
            <th>Metacritic</th>
        </tr>
        <tbody>

    </thead>

    <% ReturnObj.Polarizing["UHATE-IMDBLOVE"].forEach(function(element){ %>

        <tr>
            <td>
                <%=element.Title %>
            </td>
            <td>
                <%=element["You rated"] %>
            </td>
            <td>
                <%=element.IMDbDiff %>
            </td>
        </tr>

        <% }); %>

            </tbody>
</table>
                
                
                
                
            

        </div>


    </div>
</div>
</div>


<% include partials/footer %>